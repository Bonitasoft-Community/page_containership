<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <title>Container Ship</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="pageResource?page=custompage_containership&location=style/animate.css" />
    <link rel="stylesheet" href="pageResource?page=custompage_containership&location=style/bootstrap.min.css">
	<link rel="stylesheet" href="pageResource?page=custompage_containership&location=style/main.css">
	<link rel="stylesheet" href="pageResource?page=custompage_containership&location=style/style.css">
   <link rel="stylesheet" href="pageResource?page=custompage_containership&location=style/ng-modal.css">
 
	<script type="text/javascript" src="https://www.google.com/jsapi"></script>
	<script type="text/javascript" src="https://www.google.com/uds/?file=visualization&amp;v=1&amp;hl=fr&amp;packages=corechart&amp;async=2"></script>
	<link type="text/css" href="https://www.google.com/uds/api/visualization/1.0/ff67c3772da186a412ae3231c32409e9/ui+fr.css" rel="stylesheet">
	<script type="text/javascript" src="https://www.google.com/uds/api/visualization/1.0/ff67c3772da186a412ae3231c32409e9/format+fr,default+fr,ui+fr,corechart+fr.I.js"></script>
	<link href="https://ajax.googleapis.com/ajax/static/modules/gviz/1.0/core/tooltip.css" rel="stylesheet" type="text/css">
		
				
			
<style>
.Loading {
    display: inline-block;
    vertical-align: middle;
    background-position: center;
    background:no-repeat;
    background-image: url('data:image/gif;base64,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');
    width:20px;
    height:20px;
    margin-top:6px;
    margin-right:7px;
}
</style>
</head>
<body ng-app="containershipmonitor">


<div class="bs-component"  ng-controller="ContainerShipControler as ctrl">

	<center>
	<table><tr>
		<td><h1>Container Ship</h1></td>
	
		<td rowspan="2"><img src="pageResource?page=custompage_containership&location=img/containership2.png" width="150" heigth="150" /></td></tr>
		<tr><td style="font-size:0.8em"> <a href="" ng-click="ctrl.showhistory( ! ctrl.isshowhistory )">V2.4.0</a></td></tr>
		
	</table>
	</center>

	
	<div class="col-lg-12">
	
		<!--  CONNECTION  -->	
		<legend class="text-primary"><span class="glyphicon glyphicon-th"></span><input type="checkbox" ng-model="ctrl.showconnection" title="Show the connection parameters"> Connection</legend>
		<div ng-show="ctrl.showconnection">
			<div class="explanation">
				To manage the tenant, the Platform user is required. This user is set in bonita-platform-community-custom.properties<br>
				By default, it's platformAdmin / platform.
				</div>
		
			<table class="table"> 
				<tr> 
					<td>Platform User</td><td><input type="text" ng-model="ctrl.newplatformUsername"></td> 
					<td>Platform Password</td><td><input type="password" ng-model="ctrl.newplatformPassword"></td> 
				</tr>
				<tr><td colspan="2"> <button class="btn btn-primary" ng-click="ctrl.connection()">Connection</button></td></tr>
				<tr><td colspan="2"> 
				 	<div ng-show="ctrl.inprogress"><span class="Loading">.</span></div>
					<span class="label label-success">{{ctrl.connectionmessage}}</span><br>
						<span class="label label-danger">{{ctrl.connectionerrormessage}}</span><br>
						<div ng-bind-html="ctrl.getListEvents(ctrl.connectionlisteventshtml )"></div>
			</table>
		</div>
	
		
		<!--  PLATEFORM INFORMATION  -->
		<legend class="text-primary"><span class="glyphicon glyphicon-th"></span>
			<a href="#" ng-click="ctrl.showinformation = ! ctrl.showinformation" style="text-decoration:none">					
			  				<span ng-show="ctrl.showinformation" class="glyphicon glyphicon-chevron-down" style="font-size: 18px;"></span>
 			</a>
			<a href="#" ng-click="ctrl.showinformation = ! ctrl.showinformation" style="text-decoration:none">					
				<span ng-show="! ctrl.showinformation" class="glyphicon glyphicon-chevron-right"  style="font-size: 18px;"></span>
			</a>		
			 Platform configuration
		</legend>
		
		<table ng-show="ctrl.showinformation" class="table">
			<tr> <td style="background-color:#99D9EA">Platform</td><td>{{ctrl.platforminfo.platformstate}}</td> 
			 	 <td style="background-color:#99D9EA">&nbsp;</td> </tr>
			<tr> <td style="background-color:#99D9EA">Start date</td><td>{{ctrl.platforminfo.startDate | date}}</td> 
				 <td style="background-color:#99D9EA">Expiration date</td><td>{{ctrl.platforminfo.expirationDate | date}}</td></tr>
			<tr> <td style="background-color:#99D9EA">Customer name</td><td>{{ctrl.platforminfo.customerName}}</td>  
				 <td style="background-color:#99D9EA">Contact info</td><td>{{ctrl.platforminfo.contactInfo}}</td>   </tr>
			<tr> <td style="background-color:#99D9EA">Version</td><td>{{ctrl.platforminfo.platformversion}}</td>      
				 <td style="background-color:#99D9EA">Subscription</td><td>{{ctrl.platforminfo.subscriptionType}}</td> </tr>
			<tr> <td style="background-color:#99D9EA">Number Of CPU Cores</td><td>{{ctrl.platforminfo.numberOfCPUCores}}</td>
				 <td style="background-color:#99D9EA">&nbsp;</td></tr>
		</table>
			
		<!--  TENANTS  -->
		<legend class="text-primary"><span class="glyphicon glyphicon-th"></span>Tenants</legend>
		<div ng-show="! ctrl.isConnected">
			<span class="alert alert-danger">Connect to the platform to see the tenants</span>
		</div>
		<div ng-show="ctrl.isConnected">
		
			<table>
				<tr><td style="vertical-align: top">
					<button ng-click="ctrl.refresh()" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-refresh" aria-hidden="true" title="Refresh"></span></button><br>
					<div ng-show="ctrl.inprogress"><span class="Loading">.</span></div>
					<span class="label label-success">{{ctrl.message}}</span><br>
					<span class="label label-danger">{{ctrl.errormessage}}</span><br>
					<div ng-bind-html="ctrl.getListEvents(ctrl.listeventshtml )"></div>
				</td><td  style="vertical-align: top; padding-left: 15px;">
					<button class="btn btn-primary" ng-click="ctrl.openToAddTenantInformation()">Add a Tenant</button>
				</td></tr>
			</table>
			<p>
			<!--  <table class="table table-striped table-hover table-condensed" > -->
			<table class="table table-condensed" >
				<tr style="background-color:#99D9EA">
						<th>Name</th>
						<th>State</th>
						<th>ID</th>
						<th>Version</th>
						<th>Actions</th>
						<th></th>
				</tr>
				<!--  style="{{ctrl.getClassLine( tenantinfo )}}" -->
				<tr ng-repeat="tenantinfo in ctrl.listtenants track by $index" >
						<td>
							<table>
								<tr ng-show="tenantinfo.isCurrent "><td>{{tenantinfo.name}}</td><td><span class="label label-info">(current)</span></td></tr>
								<tr ng-show="! tenantinfo.isCurrent " colpan"2"><td>{{tenantinfo.name}}</td></tr>
							</table>
							</div>
						</td>
						<td>
							<div ng-show="tenantinfo.state =='ACTIVATED'" >
								<span class="label label-success">Activated</span>
							</div>
							
							<div ng-show="tenantinfo.state =='DEACTIVATED'">
								<span class="label label-warning">Deactivated</span>
							</div>
						</td>
						<td><a href="{{'/bonita?tenant='+tenantinfo.id}}"  target="_blank" style="color: #000000" title="Access the Tenant in a new window">{{tenantinfo.id}}</a>
							<div style="font: italic;font-size: small">See comment below. Use /bonita?tenant={{tenantinfo.id}} in a private windows</div>
						</td>
						<td>{{tenantinfo.description}}</td>
						<td>
							<table style="padding-left: 10px;"><tr  style="padding-left: 10px;">  
								<td>
								<button class="btn btn-xs btn-info" ng-click="ctrl.openEditTenant( tenantinfo )">Edit tenant</button>&nbsp;&nbsp;
								</td>
								<td ng-show="! tenantinfo.isCurrent ">
							   		<button class="btn btn-xs btn-info" ng-show="tenantinfo.state =='ACTIVATED'" ng-click="ctrl.deactivatetenant( tenantinfo )">Deactivate</button>
			    					<button class="btn btn-xs btn-primary" ng-show="tenantinfo.state =='DEACTIVATED'"  ng-click="ctrl.activatetenant( tenantinfo )">Activate</button>
			    					&nbsp;&nbsp;
								</td>
								<td ng-show="! tenantinfo.isCurrent ">
									<button class="btn btn-xs btn-danger" ng-click="ctrl.removetenant( tenantinfo )">Remove tenant</button>
									&nbsp;&nbsp;
									</td>
									</tr></table>
			    				</div>		
						</td>
				</tr>
			</table>
				<div class="alert alert-warning">
					When you click (and log) to the new tenant, this page is then referenting to this new tenant (there are one login per browser).
				Use a private window else, and give this URL /bonita?tenant=&lt;tenantID&gt;</div>
				
			<!-- <span class="label label-info">{{ctrl.listtenants}}</span> -->
		</div>
				
		<!--  Add / Edit  -->				
		<modal-dialog show='ctrl.isshowTenantInformation' dialog-title='Details' width='75%' height='80%' 	close="ctrl.closeTenantInformation()"> 
				<div class="modal-content" width='100%' height='100%'>
				<table >
					<tr> <td>Id</td><td>&nbsp;<input type="text" ng-model="ctrl.tenantinformation.id" disabled></td>   </tr>
					<tr> <td>Name</td><td>&nbsp;<input type="text" ng-model="ctrl.tenantinformation.name"></td>   </tr>
					<tr> <td>Description</td><td>&nbsp;<textarea  ng-model="ctrl.tenantinformation.description"> </textarea></td>   </tr>
					<tr> <td>Tenant UserName</td><td>&nbsp;<input type="text" ng-model="ctrl.tenantinformation.tenantUsername"></td>   </tr>
					<tr> <td>Tenant Password</td><td>&nbsp;<input type="password" ng-model="ctrl.tenantinformation.tenantPassword"></td>   </tr>
					<tr> <td colspan="2">	
					
						<button class="btn btn-primary" ng-show="ctrl.isAddTenant" ng-click="ctrl.addTenant()">Add Tenant</button> 
						<button class="btn btn-primary" ng-show="ctrl.isEditTenant" ng-click="ctrl.editTenant()">Update Tenant</button> 
					</td></tr>
						
				</table>
				<span class="label label-success">{{ctrl.message}}</span><br>
				<span class="label label-danger">{{ctrl.errormessage}}</span><br>
		    	<div ng-bind-html="ctrl.getListEvents(ctrl.listeventshtml )"></div>
		
		
				<div class="well"  ng-show="ctrl.isAddTenant">
					Attention, when you add a tenant, the look and feel of the login page is not correctly set. You have to log one time with the technical user .
				</div>
				<p>
				<p>
      		</div>
      </modal-dialog>
		
	</div>
	
		
</div>



<!-- Third party dependencies -->

<script src="pageResource?page=custompage_containership&location=3rd-party/jquery.min.js"></script>

<script src="pageResource?page=custompage_containership&location=3rd-party/angular.min.js"></script>

<script src="pageResource?page=custompage_containership&location=3rd-party/angular-resource.min.js"></script>
<script src="pageResource?page=custompage_containership&location=3rd-party/angular-cookies.min.js"></script>

<script src="pageResource?page=custompage_containership&location=3rd-party/bootstrap/js/bootstrap.min.js"></script>
<script src="pageResource?page=custompage_containership&location=3rd-party/angular-bootstrap-tpls.min.js"></script>
<script src="pageResource?page=custompage_containership&location=3rd-party/angular-file-upload.js"></script> 
<script src="pageResource?page=custompage_containership&location=3rd-party/ng-google-chart.js"></script> 
<script src="pageResource?page=custompage_containership&location=3rd-party/angular-sanitize.min.js"></script> 
<script src="pageResource?page=custompage_containership&location=3rd-party/ng-modal.min.js"></script> 

<!-- Application dependencies -->
<script src="pageResource?page=custompage_containership&location=containershipmonitor.js&v=@_CURRENTTIMEMILIS_@"></script>

</body>
</html>		